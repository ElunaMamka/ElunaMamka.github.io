<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">


    <title>ElunaMamka</title>
     
    <link rel="stylesheet" type="text/css" href="static/css/FiraCode.css">
    <link rel="stylesheet" type="text/css" href="static/css/nutssss.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="shortcut icon" href="/static/image/icon.png">
    <style>
        /* å¯¼èˆªæ æ ·å¼ */
        .nav-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        #box {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 50px;
            padding-top: 30px;
            max-width: 1100px;
            margin: 0 auto;
        }
        
        .nav-tabs {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 0;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .nav-tab {
            padding: 12px 25px;
            margin: 0 10px;
            cursor: pointer;
            border-radius: 25px;
            transition: all 0.3s ease;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
        }
        
        .nav-tab:hover {
            background: rgba(52, 152, 219, 0.6);
            color: white;
            transform: translateY(-2px);
            border-color: rgba(52, 152, 219, 0.8);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        
        .nav-tab.active {
            background: rgba(52, 152, 219, 0.8);
            color: white;
            border-color: rgba(52, 152, 219, 1);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
        }
        
        /* å†…å®¹åŒºåŸŸ */
        .content-section {
            display: none;
            min-height: 100vh;
            padding-top: 80px;
        }
        
        .content-section.active {
            display: block;
        }
        
        /* ç»ˆç«¯åˆ‡æ¢æŒ‰é’®æ ·å¼ */
        .terminal-switcher {
            position: absolute;
            right: -80px; /* ç§»åˆ°å³ä¾§è¾¹ */
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            gap: 15px;
            z-index: 100;
        }
        
        .switch-btn {
            width: 55px;
            height: 55px;
            border-radius: 50%; /* æ”¹ä¸ºåœ†å½¢ */
            border: none;
            cursor: pointer;
            font-size: 24px; /* Icon size */
            color: white;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }
        
        .switch-btn:hover {
            transform: translateX(-8px) scale(1.1); /* æ‚¬åœæ—¶å‘å·¦ç§»åŠ¨ */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .switch-btn.profile {
            background: linear-gradient(135deg, #FF6B9D, #FF8E9B); /* ç²‰è‰²æ¸å˜ - å°çŒ« */
        }
        
        .switch-btn.links {
            background: linear-gradient(135deg, #4ECDC4, #44A08D); /* é’è‰²æ¸å˜ - å°ç†Š */
        }
        
        .switch-btn.chat {
            background: linear-gradient(135deg, #FFE66D, #FF6B6B); /* é»„çº¢æ¸å˜ - å°ç‹ç‹¸ */
        }
        
        .switch-btn.active {
            transform: translateX(-12px) scale(1.2); /* æ¿€æ´»çŠ¶æ€å‘å·¦ç§»åŠ¨æ›´å¤š */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.6);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.2); }
            50% { box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 255, 255, 0.4); }
            100% { box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.2); }
        }
        
        /* --- Terminal Stacking Styles --- */
        #cmdBox {
            position: relative;
            width: 600px;
            height: 480px;
            perspective: 1000px;
            /* Removed margin: 0 auto and other positioning */
        }

        .terminal-window {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 400px;
            transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            font-family: 'Fira Code', 'dengxian', monospace;
            color: #333;
        }

        .terminal-window.is-top {
            z-index: 3;
            transform: translateY(0) scale(1);
            opacity: 1;
            pointer-events: all;
        }

        .terminal-window.is-middle {
            z-index: 2;
            transform: translateY(35px) scale(0.95);
            opacity: 0.9;
            pointer-events: none;
            filter: blur(0.5px);
        }

        .terminal-window.is-bottom {
            z-index: 1;
            transform: translateY(70px) scale(0.9);
            opacity: 0.8;
            pointer-events: none;
            filter: blur(1px);
        }
        
        /* Unify terminal header and content styles */
        .terminal-window .click {
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
        }
        .terminal-window .click > div {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin: 0 4px;
        }
        .terminal-window .red { background: #ff5f56; }
        .terminal-window .yellow { background: #ffbd2e; }
        .terminal-window .green { background: #27c93f; }

        .terminal-window .title {
            text-align: center;
            padding: 10px;
            color: #888;
            font-size: 13px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .terminal-window .cmdText, .terminal-window .terminal-output {
            padding: 15px;
            height: calc(100% - 45px);
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .terminal-window .cmdText a { color: #3498db; }
        .terminal-window .cmdText a:hover { color: #5dade2; }
        .terminal-window .cmdText .ul { list-style: none; padding-left: 10px; }
        
        /* ä¿®å¤äº¤äº’å¼ç»ˆç«¯æ ·å¼ */
        .terminal-window .terminal-output {
             height: calc(100% - 95px); /* ä¸ºè¾“å…¥è¡Œç•™å‡ºç©ºé—´ */
        }
        
        .terminal-window .terminal-input-line {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            background: rgba(0,0,0,0.05);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 0 0 10px 10px; /* åŒ¹é…ç»ˆç«¯åœ†è§’ */
        }
        
        .terminal-window .terminal-prompt {
            color: #27ae60;
            margin-right: 8px;
            font-weight: bold;
        }
        
        .terminal-window .terminal-input {
            flex: 1;
            border: none;
            background: transparent;
            outline: none;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            color: #333;
        }
        
        /* ç…§ç‰‡å¢™æ ·å¼ */
        .photo-gallery {
            max-width: 1200px;
            margin: 50px auto;
            padding: 0 20px 150px 20px; /* å¢åŠ åº•éƒ¨paddingé¿å…ä¸footeré‡å  */
        }
        
        .gallery-title {
            text-align: center;
            color: white;
            font-size: 2.5rem;
            margin-bottom: 50px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .gallery-container {
            position: relative;
            width: 100%;
            height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1000px;
        }
        
        .gallery-viewer {
            position: relative;
            width: 80%;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .photo-main {
            width: 600px;
            height: 400px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            object-fit: cover;
            transition: all 0.5s ease;
            z-index: 10;
            border: 8px solid white;
        }
        
        .photo-side {
            position: absolute;
            width: 300px;
            height: 200px;
            border-radius: 10px;
            object-fit: cover;
            opacity: 0.6;
            filter: blur(2px);
            transition: all 0.5s ease;
            border: 4px solid rgba(255, 255, 255, 0.8);
        }
        
        .photo-left {
            left: -150px;
            transform: rotateY(45deg) translateZ(-100px);
        }
        
        .photo-right {
            right: -150px;
            transform: rotateY(-45deg) translateZ(-100px);
        }
        
        .gallery-controls {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .gallery-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #333;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .gallery-btn:hover {
            background: white;
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .gallery-btn.prev {
            left: -100px;
        }
        
        .gallery-btn.next {
            right: -100px;
        }
        
        .photo-info {
            position: absolute;
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            border-radius: 25px;
            color: #333;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .random-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 12px 24px;
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .random-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Papers æ ·å¼ */
        .papers-section {
            max-width: 1000px;
            margin: 50px auto;
            padding: 0 20px 100px 20px;
        }
        
        .papers-title {
            text-align: center;
            color: white;
            font-size: 2.5rem;
            margin-bottom: 50px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .paper-card {
            background: rgba(255, 255, 255, 0.95);
            margin: 20px 0;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .paper-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
        }
        
        .paper-title {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .paper-link {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
        }
        
        .paper-link:hover {
            color: #2980b9;
            text-decoration: underline;
        }
        
        /* å…¶ä»–é“¾æ¥æ ·å¼ */
        .links-section {
            max-width: 800px;
            margin: 50px auto;
            padding: 0 20px 100px 20px;
        }
        
        .links-title {
            text-align: center;
            color: white;
            font-size: 2.5rem;
            margin-bottom: 50px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .link-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }
        
        .link-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
        }
        
        .link-card a {
            color: #3498db;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
        }
        
        .link-card a:hover {
            color: #2980b9;
        }
        
        /* åœ°å›¾ç›¸å†Œæ ·å¼ */
        .map-container {
            max-width: 1200px;
            margin: 50px auto;
            padding: 0 20px 100px 20px;
            position: relative;
        }
        
        .map-title {
            text-align: center;
            color: white;
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        #map-canvas {
            position: relative;
            width: 100%;
            height: 600px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            cursor: grab;
        }
        
        #map-canvas:active {
            cursor: grabbing;
        }
        
        #china-map {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 85%;
            max-height: 85%;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
            transition: transform 0.3s ease;
        }
        
        /* Qç‰ˆåœ°å›¾è£…é¥°å…ƒç´  */
        .map-decoration {
            position: absolute;
            pointer-events: none;
            z-index: 5;
        }
        
        .cloud {
            animation: float-cloud 8s ease-in-out infinite;
        }
        
        .cloud1 {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .cloud2 {
            top: 15%;
            right: 15%;
            animation-delay: 2s;
        }
        
        .cloud3 {
            bottom: 20%;
            left: 5%;
            animation-delay: 4s;
        }
        
        @keyframes float-cloud {
            0%, 100% { transform: translateX(0px) translateY(0px); }
            25% { transform: translateX(10px) translateY(-5px); }
            50% { transform: translateX(20px) translateY(0px); }
            75% { transform: translateX(10px) translateY(5px); }
        }
        
        .sun {
            position: absolute;
            top: 8%;
            right: 8%;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #FFD700, #FFA500);
            border-radius: 50%;
            animation: rotate-sun 20s linear infinite;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
        }
        
        .sun::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: radial-gradient(circle, transparent 50%, rgba(255, 215, 0, 0.3) 70%);
            border-radius: 50%;
            animation: pulse-sun 3s ease-in-out infinite;
        }
        
        @keyframes rotate-sun {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse-sun {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
        }
        
        .map-marker {
            position: absolute;
            width: 45px;
            height: 45px;
            background: radial-gradient(circle, #ff6b6b, #ee5a52);
            border-radius: 50% 50% 50% 0;
            transform: rotate(-45deg);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
            z-index: 10;
            border: 3px solid white;
        }
        
        .map-marker::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
        }
        
        .map-marker::after {
            content: 'ğŸ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            font-size: 16px;
        }
        
        .map-marker:hover {
            transform: rotate(-45deg) scale(1.3);
            box-shadow: 0 12px 30px rgba(255, 107, 107, 0.6);
            z-index: 15;
        }
        
        .map-marker.sky-city {
            background: radial-gradient(circle, #667eea, #764ba2);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
            animation: float-sky-city 4s ease-in-out infinite;
            border: 3px solid #FFD700;
        }
        
        .map-marker.sky-city::after {
            content: 'ğŸ°';
            font-size: 18px;
        }
        
        .map-marker.sky-city:hover {
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.6);
        }
        
        @keyframes float-sky-city {
            0%, 100% { transform: rotate(-45deg) translateY(0px); }
            50% { transform: rotate(-45deg) translateY(-15px); }
        }
        
        .marker-tooltip {
            position: absolute;
            bottom: 55px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 13px;
            white-space: nowrap;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .marker-tooltip::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid rgba(0, 0, 0, 0.9);
        }
        
        .map-marker:hover .marker-tooltip {
            opacity: 1;
            bottom: 60px;
        }
        
        .map-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 20;
        }
        
        .map-control-btn {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.95);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            color: #333;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .map-control-btn:hover {
            background: white;
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .map-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 15px;
            font-size: 14px;
            max-width: 320px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .map-info strong {
            color: #FFD700;
        }
        
        /* ç…§ç‰‡æ¨¡æ€æ¡†æ ·å¼ */
        .photo-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .photo-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .modal-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            color: #333;
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 30px;
            cursor: pointer;
            color: #666;
            transition: color 0.3s ease;
        }
        
        .modal-close:hover {
            color: #333;
        }
        
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .photo-item {
            background: #f8f9fa;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .photo-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .photo-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .photo-item:hover img {
            transform: scale(1.05);
        }
        
        .photo-item-info {
            padding: 15px;
            text-align: center;
        }
        
        .photo-item-info div:first-child {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media screen and (max-width: 768px) {
            .nav-tabs {
                flex-wrap: wrap;
                padding: 10px;
            }
            
            .nav-tab {
                margin: 5px;
                padding: 8px 15px;
                font-size: 14px;
            }
            
            .terminal-switcher {
                gap: 15px;
                margin-bottom: 50px;
                padding-top: 30px;
            }
            
            .switch-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .photo-main {
                width: 90%;
                height: 300px;
            }
            
            .photo-side {
                width: 200px;
                height: 150px;
            }
            
            .photo-left {
                left: -100px;
            }
            
            .photo-right {
                right: -100px;
            }
            
            .gallery-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .gallery-btn.prev {
                left: -70px;
            }
            
            .gallery-btn.next {
                right: -70px;
            }
            
            .gallery-title,
            .papers-title,
            .links-title {
                font-size: 2rem;
            }

            #box {
                flex-direction: column;
                align-items: center;
                gap: 20px;
                padding-top: 10px;
            }
            
            .terminal-window {
                height: 420px;
            }

            .terminal-window.is-middle {
                transform: translateY(25px) scale(0.95);
            }
    
            .terminal-window.is-bottom {
                transform: translateY(50px) scale(0.9);
            }
        }

        /* åœ¨<style>æ ‡ç­¾å†…åˆé€‚ä½ç½®æ·»åŠ å¦‚ä¸‹æ ·å¼ */
        .meBox-Button {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 24px;
        }

        .meBox-Button a {
            display: inline-block;
            padding: 10px 28px;
            border-radius: 25px;
            background: linear-gradient(90deg, #4ECDC4 0%, #FF6B9D 100%);
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.15);
            transition: background 0.3s, transform 0.2s, box-shadow 0.3s;
            letter-spacing: 1px;
        }

        .meBox-Button a:hover {
            background: linear-gradient(90deg, #FF6B9D 0%, #4ECDC4 100%);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.2);
            color: #fff;
        }
    </style>

</head>

<body>
    <!-- å¯¼èˆªæ  -->
    <div class="nav-container">
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="showSection('home')">ä¸»é¡µ</div>
            <div class="nav-tab" onclick="showSection('gallery')">ç…§ç‰‡å¢™</div>
            <div class="nav-tab" onclick="showSection('papers')">Papers</div>
            <div class="nav-tab" onclick="showSection('links')">å…¶ä»–é“¾æ¥</div>
            <div class="nav-tab" onclick="showSection('map')">åœ°å›¾ç›¸å†Œ</div>
        </div>
    </div>

    <!-- ä¸»é¡µå†…å®¹ -->
    <div id="home" class="content-section active">
        <div id="box">
            <!-- ä¸ªäººèµ„æ–™å¡ç‰‡ -->
            <div class="meBox">
                <!-- å¤´åƒ -->
                <div class="headPhoto"></div>
                <!-- ä»‹ç» -->
                <div class="meBox-title">
                    <p>I'm ElunaMamka</p>
                    <div class="fg"></div>
                </div>
                <div class="meBox-text">
                    <p>ä½ å¥½æˆ‘æ˜¯äº”è•´ï¼Œæ¬¢è¿å…‰ä¸´å¯’èˆ</p>
                    <p>ç›®å‰ä¸»è¦åœ¨åšNLP</p>
                    <p>å¸¸èŠ±æ—¶é—´çæŠ˜è…¾å¤æ€ªçš„ç©æ„</p>
                    <p>EM:jinhaotian@whu.edu.cn</p>
                    <p>elunamamka.tjh@gmail.com</p>
                </div>
                <!-- ä¸¤ä¸ªæŒ‰é’® -->
                <div class="meBox-Button">
                    <a href="https://www.cnblogs.com/ElunaMamka/">Cnblog</a>
                    <a href="https://github.com/ElunaMamka">Github</a>
                </div>
            </div>

            <!-- ä¼ªç»ˆç«¯ä»‹ç» -->
            <div id="cmdBox">
                <!-- ç»ˆç«¯åˆ‡æ¢æŒ‰é’® -->
                <div class="terminal-switcher">
                    <button class="switch-btn profile active" onclick="switchTerminal('profile')" title="ä¸ªäººä¿¡æ¯">ğŸ±</button>
                    <button class="switch-btn links" onclick="switchTerminal('links')" title="é“¾æ¥å’Œè®ºæ–‡">ğŸ»</button>
                    <button class="switch-btn chat" onclick="switchTerminal('chat')" title="äº¤äº’ç»ˆç«¯">ğŸ¦Š</button>
                </div>
                
                <!-- ç¬¬ä¸€ä¸ªç»ˆç«¯ -->
                <div class="terminal-window is-top" id="terminal-profile">
                    <!-- ä¸‰ä¸ªæŒ‰é’® -->
                    <div class="click">
                        <div class="red"></div>
                        <div class="yellow"></div>
                        <div class="green"></div>
                    </div>
                    <!-- é¡¶éƒ¨æ ‡é¢˜ -->
                    <div class="title">
                        <span>ElunaMamka - bash</span>
                    </div>
                    <!-- ç»ˆç«¯å†…æ–‡å­— -->
                    <div class="cmdText">
                        <span style="color: #27ae60;">root@ElunaMamka:</span>
                        <span style="color: #2980b9;">~#</span>
                        <span style="color: #333;">./weather.sh</span>
                        <br>
                        <div id="weather-info" style="color: #2c3e50; font-weight: 500; margin: 10px 0;">
                            <span>ğŸŒ¤ï¸ æ­£åœ¨è·å–å¤©æ°”ä¿¡æ¯...</span>
                        </div>
                        <script>
                        // ä½¿ç”¨å…è´¹çš„å¤©æ°”APIè·å–å¤©æ°”ä¿¡æ¯
                        async function getWeather() {
                            try {
                                // ä½¿ç”¨ipapiè·å–ä½ç½®ä¿¡æ¯
                                const locationResponse = await fetch('https://ipapi.co/json/');
                                const locationData = await locationResponse.json();
                                const city = locationData.city || 'åŒ—äº¬';
                                
                                // ä½¿ç”¨OpenWeatherMapå…è´¹API (éœ€è¦æ³¨å†Œè·å–API key)
                                // è¿™é‡Œä½¿ç”¨ä¸€ä¸ªæ¨¡æ‹Ÿçš„å¤©æ°”æ˜¾ç¤º
                                const weatherElement = document.getElementById('weather-info');
                                const currentTime = new Date();
                                const hour = currentTime.getHours();
                                
                                let weatherIcon, weatherDesc, temp;
                                if (hour >= 6 && hour < 12) {
                                    weatherIcon = 'ğŸŒ…';
                                    weatherDesc = 'æ—©æ™¨å¥½';
                                    temp = Math.floor(Math.random() * 10) + 15;
                                } else if (hour >= 12 && hour < 18) {
                                    weatherIcon = 'â˜€ï¸';
                                    weatherDesc = 'ä¸‹åˆå¥½';
                                    temp = Math.floor(Math.random() * 15) + 20;
                                } else if (hour >= 18 && hour < 22) {
                                    weatherIcon = 'ğŸŒ†';
                                    weatherDesc = 'å‚æ™šå¥½';
                                    temp = Math.floor(Math.random() * 10) + 18;
                                } else {
                                    weatherIcon = 'ğŸŒ™';
                                    weatherDesc = 'å¤œæ™šå¥½';
                                    temp = Math.floor(Math.random() * 8) + 12;
                                }
                                
                                weatherElement.innerHTML = `
                                    ${weatherIcon} ${city} | ${weatherDesc} | ${temp}Â°C | ${currentTime.toLocaleDateString('zh-CN')}
                                `;
                            } catch (error) {
                                document.getElementById('weather-info').innerHTML = 'ğŸŒˆ ä»Šå¤©æ˜¯ç¾å¥½çš„ä¸€å¤©ï¼';
                            }
                        }
                        
                        // é¡µé¢åŠ è½½æ—¶è·å–å¤©æ°”
                        if (document.getElementById('weather-info')) {
                            getWeather();
                        }
                        </script>
                        <span style="color: #27ae60;">root@ElunaMamka:</span>
                        <span style="color: #2980b9;">~#</span>
                        <span style="color: #333;">cat /profile.txt</span>
                        <p>çˆ±å¥½è®¡ç®—æœºï¼Œä¼šå»å­¦è‡ªå·±æ„Ÿå…´è¶£çš„ä¸œè¥¿</p>
                        <p>ç•¥æ‡‚H5ï¼ŒC++å’ŒPythonå¼€å‘ï¼›çˆ±å¥½è´¹æ—¶é—´æŠ˜è…¾å»è§£å†³é—®é¢˜</p>
                        <p>ç›®å‰ä¸»è¦ç ”ç©¶NLPè‡ªç„¶è¯­è¨€å¤„ç†</p>
                        <p>æˆ‘è¿™é‡Œçœ‹èµ·æ¥æ··æ‚ç€å„ç§å¥‡æ€ªçš„ä»“åº“</p>
                        <p>è²Œä¼¼æš‚æ—¶å¹¶æ²¡æœ‰ä»€ä¹ˆæœ‰å«é‡‘é‡çš„ä¸œè¥¿</p>
                        <p>ä¸è¿‡ç›¸ä¿¡æœªæ¥è¿™é‡Œä¸€åˆ‡éƒ½ä¼šæœ‰çš„</p>
                        <span style="color: #27ae60;">root@ElunaMamka:</span>
                        <span style="color: #2980b9;">~#</span>
                        <span style="color: #333;">sudo rm -rf /è¿‡å»çš„è‡ªå·±/*</span>
                        <br>
                        <span style="color: #27ae60;">root@ElunaMamka:</span>
                        <span style="color: #2980b9;">~#</span>
                        <span style="color: #333;">sudo touch /å´­æ–°çš„è‡ªå·±/</span>
                    </div>
                </div>
                
                <!-- ç¬¬äºŒä¸ªç»ˆç«¯ -->
                <div class="terminal-window is-middle" id="terminal-links">
                    <!-- ä¸‰ä¸ªæŒ‰é’® -->
                    <div class="click">
                        <div class="red"></div>
                        <div class="yellow"></div>
                        <div class="green"></div>
                    </div>
                    <!-- é¡¶éƒ¨æ ‡é¢˜ -->
                    <div class="title">
                        <span>ElunaMamka - bash</span>
                    </div>
                    <!-- ç»ˆç«¯å†…æ–‡å­— -->
                    <div class="cmdText">
                        <span style="color: #27ae60;">root@ElunaMamka:</span>
                        <span style="color: #2980b9;">~#</span>
                        <span style="color: #333;">./links.sh</span>
                        <p>å…¶ä»–ç›¸å…³é“¾æ¥:</p>
                        <ul class="ul">
                            <li><a href="https://www.cnblogs.com/ElunaMamka/">Blog</a></li>
                            <li><a href="https://github.com/ElunaMamka">Github</a></li>
                            <li><a href="mailto:elunamamka.tjh@gmail.com">E-Mail</a></li>
                            <li><a href="https://elunamamka.gitbook.io/algorithm/">Incomplete Algorithm</a></li>
                            <li><a href="#">To be appended</a></li>
                        </ul>
                        <span style="color: #27ae60;">root@ElunaMamka:</span>
                        <span style="color: #2980b9;">~#</span>
                        <span style="color: #333;">./papers.sh</span>
                        <ul class="ul">
                            <li><a href="https://arxiv.org/abs/2312.08931">N-Gram Unsupervised Compoundation and Feature Injection for Better Symbolic Music Understanding(AAAI2024)</a></li>
                            <li><a href="https://aclanthology.org/2025.findings-naacl.399/" target="_blank">NAACL Findings 2025 - æŸ¥çœ‹è®ºæ–‡</a></li>
                        </ul>
                    </div>
                </div>
                
                <!-- ç¬¬ä¸‰ä¸ªäº¤äº’å¼ç»ˆç«¯ -->
                <div class="terminal-window is-bottom" id="terminal-chat">
                    <!-- ä¸‰ä¸ªæŒ‰é’® -->
                    <div class="click">
                        <div class="red"></div>
                        <div class="yellow"></div>
                        <div class="green"></div>
                    </div>
                    <!-- é¡¶éƒ¨æ ‡é¢˜ -->
                    <div class="title">
                        <span>ElunaMamka - Interactive Terminal</span>
                    </div>
                    <!-- ç»ˆç«¯è¾“å‡ºåŒºåŸŸ -->
                    <div class="terminal-output" id="terminal-output">
                        <div style="color: #27ae60;">æ¬¢è¿æ¥åˆ°äº¤äº’å¼ç»ˆç«¯ï¼ğŸ‰</div>
                        <div style="color: #555; margin: 10px 0; white-space: pre-line;">è¾“å…¥ 'help' æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤ã€‚</div>
                    </div>
                    <!-- è¾“å…¥åŒºåŸŸ -->
                    <div class="terminal-input-line">
                        <span class="terminal-prompt">visitor@ElunaMamka:~$</span>
                        <input type="text" class="terminal-input" id="terminal-input" placeholder="è¾“å…¥å‘½ä»¤..." onkeypress="handleTerminalInput(event)">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ç…§ç‰‡å¢™ -->
    <div id="gallery" class="content-section">
        <div class="photo-gallery">
            <h2 class="gallery-title">ğŸ“¸ ç…§ç‰‡å¢™</h2>
            <button class="random-btn" onclick="randomPhoto()">ğŸ² éšæœºæµè§ˆ</button>
            <div class="gallery-container">
                <div class="gallery-viewer">
                    <img id="photo-left" class="photo-side photo-left" src="static/picture/002.png" alt="Previous">
                    <img id="photo-main" class="photo-main" src="static/picture/fish.png" alt="Current">
                    <img id="photo-right" class="photo-side photo-right" src="static/picture/002.png" alt="Next">
                    <div class="photo-info" id="photo-info">ç¾ä¸½çš„æ—¶å…‰ ğŸ“·</div>
                </div>
                <button class="gallery-controls gallery-btn prev" onclick="prevPhoto()">â€¹</button>
                <button class="gallery-controls gallery-btn next" onclick="nextPhoto()">â€º</button>
            </div>
        </div>
    </div>

    <!-- Papers -->
    <div id="papers" class="content-section">
        <div class="papers-section">
            <h2 class="papers-title">ğŸ“š å­¦æœ¯è®ºæ–‡</h2>
            <div class="paper-card">
                <div class="paper-title">N-Gram Unsupervised Compoundation and Feature Injection for Better Symbolic Music Understanding</div>
                <p><a href="https://arxiv.org/abs/2312.08931" class="paper-link" target="_blank">AAAI 2024 - æŸ¥çœ‹è®ºæ–‡</a></p>
            </div>
            <div class="paper-card">
                <div class="paper-title">NOTA: Multimodal Music Notation Understanding for Visual Large Language Model</div>
                <p><a href="https://aclanthology.org/2025.findings-naacl.399/" class="paper-link" target="_blank">NAACL Findings 2025 - æŸ¥çœ‹è®ºæ–‡</a></p>
            </div>
        </div>
    </div>

    <!-- å…¶ä»–é“¾æ¥ -->
    <div id="links" class="content-section">
        <div class="links-section">
            <h2 class="links-title">ğŸ”— ç›¸å…³é“¾æ¥</h2>
            <div class="links-grid">
                <div class="link-card">
                    <a href="https://www.cnblogs.com/ElunaMamka/" target="_blank">ğŸ“ ä¸ªäººåšå®¢</a>
                </div>
                <div class="link-card">
                    <a href="https://github.com/ElunaMamka" target="_blank">ğŸ’» GitHub</a>
                </div>
                <div class="link-card">
                    <a href="mailto:elunamamka.tjh@gmail.com">ğŸ“§ é‚®ç®±è”ç³»</a>
                </div>
                <div class="link-card">
                    <a href="https://elunamamka.gitbook.io/algorithm/" target="_blank">ğŸ“– ç®—æ³•ç¬”è®°</a>
                </div>
                <div class="link-card">
                    <a href="#" target="_blank">ğŸš€ æ›´å¤šå†…å®¹</a>
                </div>
            </div>
        </div>
    </div>

    <!-- åœ°å›¾ç›¸å†Œ -->
    <div id="map" class="content-section">
        <div class="map-container">
            <h2 class="map-title">ğŸ—ºï¸ åœ°å›¾ç›¸å†Œ</h2>
            <div id="map-canvas">
                <!-- è£…é¥°å…ƒç´  -->
                <div class="sun"></div>
                
                <!-- è£…é¥°äº‘æœµ -->
                <div class="map-decoration cloud cloud1">
                    <svg width="80" height="50" viewBox="0 0 80 50">
                        <path d="M20,35 Q10,25 20,20 Q25,10 35,15 Q45,5 55,15 Q70,10 65,25 Q75,30 65,35 Z" 
                              fill="rgba(255,255,255,0.8)" stroke="rgba(255,255,255,0.9)" stroke-width="1"/>
                    </svg>
                </div>
                
                <div class="map-decoration cloud cloud2">
                    <svg width="60" height="40" viewBox="0 0 60 40">
                        <path d="M15,28 Q8,20 15,16 Q18,8 28,12 Q35,4 42,12 Q52,8 48,20 Q55,24 48,28 Z" 
                              fill="rgba(255,255,255,0.7)" stroke="rgba(255,255,255,0.8)" stroke-width="1"/>
                    </svg>
                </div>
                
                <div class="map-decoration cloud cloud3">
                    <svg width="70" height="45" viewBox="0 0 70 45">
                        <path d="M18,32 Q9,22 18,18 Q22,9 32,13 Q40,5 48,13 Q58,9 54,22 Q62,26 54,32 Z" 
                              fill="rgba(255,255,255,0.6)" stroke="rgba(255,255,255,0.7)" stroke-width="1"/>
                    </svg>
                </div>
                
                <!-- Qç‰ˆä¸­å›½åœ°å›¾ -->
                <svg id="china-map" width="100%" height="100%" viewBox="0 0 1000 800">
                    <!-- åœ°å›¾èƒŒæ™¯æ¸å˜ -->
                    <defs>
                        <linearGradient id="mapGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:0.9" />
                            <stop offset="50%" style="stop-color:#f0f8f0;stop-opacity:0.95" />
                            <stop offset="100%" style="stop-color:#f8fff8;stop-opacity:1" />
                        </linearGradient>
                        
                        <linearGradient id="provinceGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#a8e6cf;stop-opacity:0.8" />
                            <stop offset="100%" style="stop-color:#88d8a3;stop-opacity:0.9" />
                        </linearGradient>
                        
                        <!-- é˜´å½±æ»¤é•œ -->
                        <filter id="dropshadow" x="-20%" y="-20%" width="140%" height="140%">
                            <feDropShadow dx="3" dy="3" stdDeviation="3" flood-color="rgba(0,0,0,0.3)"/>
                        </filter>
                    </defs>
                    
                    <!-- ä¸»è¦åœ°å›¾è½®å»“ - æ›´è¯¦ç»†çš„ä¸­å›½åœ°å›¾ -->
                    <g filter="url(#dropshadow)">
                        <!-- æ–°ç–† -->
                        <path d="M50,150 L180,120 L220,140 L250,130 L280,150 L300,180 L290,220 L270,250 L240,280 L200,300 L150,290 L100,270 L70,240 L50,200 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- è¥¿è— -->
                        <path d="M150,350 L280,330 L320,350 L350,380 L340,420 L310,450 L270,460 L220,450 L180,430 L150,400 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- é’æµ· -->
                        <path d="M280,250 L350,240 L380,260 L390,290 L380,320 L350,340 L320,350 L290,340 L280,310 L285,280 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- ç”˜è‚ƒ -->
                        <path d="M350,200 L420,190 L450,210 L460,240 L450,270 L420,290 L390,300 L360,290 L350,260 L355,230 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å†…è’™å¤ -->
                        <path d="M400,120 L600,100 L700,110 L750,130 L780,150 L770,180 L750,200 L700,210 L650,200 L600,190 L550,180 L500,170 L450,160 L420,140 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- é»‘é¾™æ±Ÿ -->
                        <path d="M750,80 L850,70 L900,90 L920,120 L910,150 L890,170 L860,180 L820,175 L780,170 L750,150 L755,115 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å‰æ— -->
                        <path d="M780,170 L850,160 L880,180 L870,210 L850,230 L820,235 L790,230 L780,200 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- è¾½å® -->
                        <path d="M750,200 L820,190 L850,210 L840,240 L820,260 L790,270 L760,265 L740,250 L745,225 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- æ²³åŒ— -->
                        <path d="M650,220 L720,210 L750,230 L740,260 L720,280 L690,290 L660,285 L640,270 L645,245 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- åŒ—äº¬ -->
                        <circle cx="700" cy="240" r="8" fill="#ff6b6b" stroke="white" stroke-width="2"/>
                        
                        <!-- å¤©æ´¥ -->
                        <circle cx="720" cy="250" r="6" fill="#4ECDC4" stroke="white" stroke-width="2"/>
                        
                        <!-- å±±è¥¿ -->
                        <path d="M600,240 L650,230 L670,250 L665,280 L640,300 L610,305 L590,290 L595,265 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- é™•è¥¿ -->
                        <path d="M550,260 L600,250 L620,270 L615,300 L590,330 L560,340 L540,325 L545,295 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å®å¤ -->
                        <path d="M520,220 L550,215 L560,235 L555,255 L540,265 L525,260 L520,240 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- æ²³å— -->
                        <path d="M620,280 L680,270 L700,290 L695,320 L670,340 L640,345 L620,330 L625,305 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å±±ä¸œ -->
                        <path d="M700,260 L760,250 L780,270 L775,300 L750,320 L720,325 L700,310 L705,285 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- æ±Ÿè‹ -->
                        <path d="M720,320 L780,310 L800,330 L795,360 L770,380 L740,385 L720,370 L725,345 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å®‰å¾½ -->
                        <path d="M670,340 L720,330 L740,350 L735,380 L710,400 L680,405 L670,385 L675,365 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- æ¹–åŒ— -->
                        <path d="M590,350 L650,340 L680,360 L675,390 L650,410 L620,415 L590,400 L595,375 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- æ¹–å— -->
                        <path d="M590,410 L650,400 L670,420 L665,450 L640,470 L610,475 L590,460 L595,435 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- æ±Ÿè¥¿ -->
                        <path d="M670,400 L720,390 L740,410 L735,440 L710,460 L680,465 L670,445 L675,420 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- æµ™æ±Ÿ -->
                        <path d="M740,380 L790,370 L810,390 L805,420 L780,440 L750,445 L740,425 L745,400 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- ç¦å»º -->
                        <path d="M750,440 L800,430 L820,450 L815,480 L790,500 L760,505 L750,485 L755,460 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å¹¿ä¸œ -->
                        <path d="M640,480 L720,470 L760,490 L755,520 L730,540 L700,545 L670,540 L640,525 L645,500 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å¹¿è¥¿ -->
                        <path d="M560,480 L620,470 L640,490 L635,520 L610,540 L580,545 L560,530 L565,505 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- äº‘å— -->
                        <path d="M450,450 L520,440 L540,460 L535,490 L510,510 L480,515 L450,500 L455,475 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- è´µå· -->
                        <path d="M520,420 L570,410 L590,430 L585,460 L560,480 L530,485 L520,465 L525,440 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- å››å· -->
                        <path d="M450,350 L520,340 L540,360 L535,390 L510,410 L480,415 L450,400 L455,375 Z" 
                              fill="url(#provinceGradient)" 
                              stroke="#4a90a4" 
                              stroke-width="2" 
                              opacity="0.9"/>
                        
                        <!-- é‡åº† -->
                        <circle cx="580" cy="380" r="7" fill="#9b59b6" stroke="white" stroke-width="2"/>
                        
                        <!-- æµ·å— -->
                        <ellipse cx="650" cy="580" rx="25" ry="15" 
                                fill="url(#provinceGradient)" 
                                stroke="#4a90a4" 
                                stroke-width="2" 
                                opacity="0.9"/>
                        
                        <!-- å°æ¹¾ -->
                        <ellipse cx="820" cy="500" rx="15" ry="35" 
                                fill="url(#provinceGradient)" 
                                stroke="#4a90a4" 
                                stroke-width="2" 
                                opacity="0.9"/>
                    </g>
                    
                    <!-- è£…é¥°æ€§å±±è„‰ -->
                    <g opacity="0.3">
                        <path d="M200,200 L220,180 L240,200 L260,175 L280,200 L300,185 L320,200" 
                              fill="none" stroke="#8fbc8f" stroke-width="3"/>
                        <path d="M400,300 L420,280 L440,300 L460,275 L480,300 L500,285 L520,300" 
                              fill="none" stroke="#8fbc8f" stroke-width="3"/>
                    </g>
                    
                    <!-- è£…é¥°æ€§æ²³æµ -->
                    <g opacity="0.4">
                        <path d="M500,200 Q550,250 600,300 Q650,350 700,400" 
                              fill="none" stroke="#87ceeb" stroke-width="4" stroke-linecap="round"/>
                        <path d="M300,400 Q400,420 500,440 Q600,460 700,480" 
                              fill="none" stroke="#87ceeb" stroke-width="3" stroke-linecap="round"/>
                    </g>
                    
                    <!-- å¯çˆ±çš„å°è£…é¥° -->
                    <g opacity="0.6">
                        <!-- å°æ ‘ -->
                        <g transform="translate(300,250)">
                            <circle cx="0" cy="-5" r="8" fill="#90EE90"/>
                            <rect x="-2" y="0" width="4" height="10" fill="#8B4513"/>
                        </g>
                        
                        <g transform="translate(600,350)">
                            <circle cx="0" cy="-5" r="8" fill="#90EE90"/>
                            <rect x="-2" y="0" width="4" height="10" fill="#8B4513"/>
                        </g>
                        
                        <!-- å°èŠ± -->
                        <g transform="translate(400,400)">
                            <circle cx="0" cy="0" r="3" fill="#FFB6C1"/>
                            <circle cx="-4" cy="-2" r="2" fill="#FF69B4"/>
                            <circle cx="4" cy="-2" r="2" fill="#FF69B4"/>
                            <circle cx="-2" cy="4" r="2" fill="#FF69B4"/>
                            <circle cx="2" cy="4" r="2" fill="#FF69B4"/>
                        </g>
                        
                        <g transform="translate(750,300)">
                            <circle cx="0" cy="0" r="3" fill="#FFB6C1"/>
                            <circle cx="-4" cy="-2" r="2" fill="#FF69B4"/>
                            <circle cx="4" cy="-2" r="2" fill="#FF69B4"/>
                            <circle cx="-2" cy="4" r="2" fill="#FF69B4"/>
                            <circle cx="2" cy="4" r="2" fill="#FF69B4"/>
                        </g>
                    </g>
                </svg>
                
                <!-- åœ°å›¾æ ‡è®°ç‚¹ -->
                <div id="marker-sky-city" class="map-marker sky-city" style="top: 8%; left: 45%;" onclick="showPhotoModal('sky-city')">
                    <div class="marker-tooltip">ğŸ° å¤©ç©ºä¹‹åŸ - ç¥ç§˜ä¹‹åœ° âœ¨</div>
                </div>
                <div id="marker-wuhan" class="map-marker" style="top: 48%; left: 58%;" onclick="showPhotoModal('wuhan')">
                    <div class="marker-tooltip">ğŸ“ æ­¦æ±‰ - 1å¼ ç…§ç‰‡</div>
                </div>
                <div id="marker-beijing" class="map-marker" style="top: 30%; left: 70%;" onclick="showPhotoModal('beijing')">
                    <div class="marker-tooltip">ğŸ›ï¸ åŒ—äº¬ - 1å¼ ç…§ç‰‡</div>
                </div>
                
                <!-- åœ°å›¾æ§åˆ¶æŒ‰é’® -->
                <div class="map-controls">
                    <button class="map-control-btn" onclick="zoomIn()" title="æ”¾å¤§">ğŸ”</button>
                    <button class="map-control-btn" onclick="zoomOut()" title="ç¼©å°">ğŸ”</button>
                    <button class="map-control-btn" onclick="resetZoom()" title="é‡ç½®">ğŸ </button>
                    <button class="map-control-btn" onclick="toggleFullscreen()" title="å…¨å±">â›¶</button>
                </div>
                
                <!-- åœ°å›¾ä¿¡æ¯ -->
                <div class="map-info">
                    <div><strong>ğŸ—ºï¸ Qç‰ˆäº¤äº’å¼åœ°å›¾ç›¸å†Œ</strong></div>
                    <div>ğŸ“ ç‚¹å‡»æ ‡è®°æŸ¥çœ‹ç…§ç‰‡é›†</div>
                    <div>ğŸ–±ï¸ æ‹–æ‹½ç§»åŠ¨åœ°å›¾è§†è§’</div>
                    <div>ğŸ” æ»šè½®ç¼©æ”¾åœ°å›¾</div>
                    <div>âŒ¨ï¸ å¿«æ·é”®: +/- ç¼©æ”¾, 0 é‡ç½®, F å…¨å±</div>
                    <div>ğŸ° å¤©ç©ºä¹‹åŸæ˜¯æœªåˆ†ç±»ç…§ç‰‡çš„ç¥ç§˜å½’å®¿</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ç…§ç‰‡æ¨¡æ€æ¡† -->
    <div id="photo-modal" class="photo-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closePhotoModal()">&times;</button>
            <h2 id="modal-title"></h2>
            <div id="photo-grid" class="photo-grid"></div>
        </div>
    </div>

    <!-- é¡µè„š -->
    <div id="footer">
        <p>Â© 2016-2019 ElunaMamka | Believe in becoming your ideal self.</p>
        <p>Â© 2019-2024 ElunaMamka | Meeting,parting,greed,anger,love,obsession.Busy passing through the world of mortals.</p>
    </div>

    <script>
        // å¯¼èˆªåˆ‡æ¢åŠŸèƒ½
        function showSection(sectionId) {
            // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // æ˜¾ç¤ºç›®æ ‡åŒºåŸŸ
            document.getElementById(sectionId).classList.add('active');
            
            // æ›´æ–°å¯¼èˆªæ ‡ç­¾çŠ¶æ€
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
        }

        // ç»ˆç«¯åˆ‡æ¢åŠŸèƒ½
        function switchTerminal(terminalType) {
            const terminals = {
                profile: document.getElementById('terminal-profile'),
                links: document.getElementById('terminal-links'),
                chat: document.getElementById('terminal-chat')
            };

            // Define the fixed order of terminals to cycle through
            const order = ['profile', 'links', 'chat'];
            
            // Find the selected terminal and move it to the front of the order array
            const selectedIndex = order.indexOf(terminalType);
            if (selectedIndex > -1) {
                order.splice(selectedIndex, 1);
            }
            order.unshift(terminalType);
            
            // The new stack order is [top, middle, bottom]
            const topId = order[0];
            const middleId = order[1];
            const bottomId = order[2];

            // Remove all positioning classes from all terminals
            Object.values(terminals).forEach(t => {
                t.classList.remove('is-top', 'is-middle', 'is-bottom');
            });

            // Add the new classes based on the calculated order
            terminals[topId].classList.add('is-top');
            terminals[middleId].classList.add('is-middle');
            terminals[bottomId].classList.add('is-bottom');
            
            // Update the active state on the switcher buttons
            document.querySelectorAll('.switch-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.switch-btn.${terminalType}`).classList.add('active');
        }

        // ç…§ç‰‡å¢™åŠŸèƒ½
        const photos = [
            { src: 'static/picture/fish.png', info: 'å¯çˆ±çš„å°é±¼ ğŸ ' },
            { src: 'static/picture/002.png', info: 'ç¾å¥½çš„å›å¿† âœ¨' },
            { src: 'static/image/g.jpg', info: 'ä¸ªäººå¤´åƒ ğŸ‘¤' },
            // å¯ä»¥æ·»åŠ æ›´å¤šç…§ç‰‡
        ];

        let currentPhotoIndex = 0;

        function updateGallery() {
            const mainPhoto = document.getElementById('photo-main');
            const leftPhoto = document.getElementById('photo-left');
            const rightPhoto = document.getElementById('photo-right');
            const photoInfo = document.getElementById('photo-info');

            // æ›´æ–°ä¸»å›¾
            mainPhoto.src = photos[currentPhotoIndex].src;
            photoInfo.textContent = photos[currentPhotoIndex].info;

            // æ›´æ–°å·¦ä¾§å›¾ç‰‡
            const leftIndex = (currentPhotoIndex - 1 + photos.length) % photos.length;
            leftPhoto.src = photos[leftIndex].src;

            // æ›´æ–°å³ä¾§å›¾ç‰‡
            const rightIndex = (currentPhotoIndex + 1) % photos.length;
            rightPhoto.src = photos[rightIndex].src;
        }

        function nextPhoto() {
            currentPhotoIndex = (currentPhotoIndex + 1) % photos.length;
            updateGallery();
        }

        function prevPhoto() {
            currentPhotoIndex = (currentPhotoIndex - 1 + photos.length) % photos.length;
            updateGallery();
        }

        function randomPhoto() {
            const randomIndex = Math.floor(Math.random() * photos.length);
            currentPhotoIndex = randomIndex;
            updateGallery();
        }

        // äº¤äº’å¼ç»ˆç«¯åŠŸèƒ½
        const terminalCommands = {
            help: () => `
å¯ç”¨å‘½ä»¤åˆ—è¡¨:
â€¢ help - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
â€¢ about - å…³äºæˆ‘
â€¢ skills - æŠ€èƒ½åˆ—è¡¨
â€¢ contact - è”ç³»æ–¹å¼
â€¢ papers - æŸ¥çœ‹è®ºæ–‡åˆ—è¡¨
â€¢ projects - æˆ‘çš„é¡¹ç›®
â€¢ joke - éšæœºç¬‘è¯
â€¢ quote - åŠ±å¿—åè¨€
â€¢ time - å½“å‰æ—¶é—´
â€¢ date - è¯¦ç»†æ—¥æœŸä¿¡æ¯
â€¢ weather - å¤©æ°”ä¿¡æ¯
â€¢ music - éšæœºæ¨èéŸ³ä¹
â€¢ poem - éšæœºå¤è¯—è¯
â€¢ color - éšæœºé¢œè‰²
â€¢ password - ç”Ÿæˆéšæœºå¯†ç 
â€¢ calc [è¡¨è¾¾å¼] - è®¡ç®—å™¨
â€¢ base64 [æ–‡æœ¬] - Base64ç¼–ç 
â€¢ reverse [æ–‡æœ¬] - åè½¬æ–‡æœ¬
â€¢ upper [æ–‡æœ¬] - è½¬å¤§å†™
â€¢ lower [æ–‡æœ¬] - è½¬å°å†™
â€¢ echo [æ–‡æœ¬] - å›æ˜¾æ–‡æœ¬
â€¢ cowsay [æ–‡æœ¬] - è®©ç‰›è¯´è¯
â€¢ clear - æ¸…ç©ºç»ˆç«¯
â€¢ whoami - æˆ‘æ˜¯è°ï¼Ÿ
â€¢ ls - åˆ—å‡ºæ–‡ä»¶
â€¢ pwd - å½“å‰è·¯å¾„
â€¢ tree - æ˜¾ç¤ºç›®å½•æ ‘
â€¢ neofetch - ç³»ç»Ÿä¿¡æ¯
â€¢ matrix - é»‘å®¢å¸å›½æ•ˆæœ
â€¢ love - çˆ±å¿ƒåŠ¨ç”»
â€¢ exit/quit - é€€å‡ºæç¤º

ğŸ‰ å½©è›‹å‘½ä»¤:
â€¢ è¯•è¯•è¾“å…¥ "42", "hello", "coffee" ç­‰...
â€¢ æˆ–è€…å°è¯•ä¸€äº›å±é™©å‘½ä»¤çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ ğŸ˜`,
            
            about: () => `
å…³äº ElunaMamka:
ğŸ“ ä¸“æ³¨äºè‡ªç„¶è¯­è¨€å¤„ç†(NLP)ç ”ç©¶
ğŸ’» çƒ­çˆ±ç¼–ç¨‹å’ŒæŠ€æœ¯æ¢ç´¢
ğŸ“š æŒç»­å­¦ä¹ æ–°æŠ€æœ¯
ğŸŒŸ ç›¸ä¿¡æˆä¸ºç†æƒ³çš„è‡ªå·±
ğŸµ ä¸“æ³¨äºéŸ³ä¹ç¬¦å·ç†è§£å’Œå¤šæ¨¡æ€ç ”ç©¶
ğŸ”¬ AAAI 2024, NAACL Findings 2025 è®ºæ–‡ä½œè€…
ğŸ« æ­¦æ±‰å¤§å­¦åœ¨è¯»
ğŸ’¡ å–œæ¬¢æŠ˜è…¾å„ç§æœ‰è¶£çš„é¡¹ç›®`,
            
            skills: () => `
æŠ€èƒ½æ ‘:
ç¼–ç¨‹è¯­è¨€:
â€¢ Python ğŸ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 90%
â€¢ C++ âš¡ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 75%
â€¢ JavaScript ğŸŒ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘ 70%
â€¢ HTML/CSS ğŸ¨ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 80%

ä¸“ä¸šæŠ€èƒ½:
â€¢ NLP & Machine Learning ğŸ¤– â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 95%
â€¢ å¤šæ¨¡æ€å­¦ä¹  ğŸ­ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 85%
â€¢ éŸ³ä¹ä¿¡æ¯æ£€ç´¢ ğŸµ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 90%
â€¢ æ·±åº¦å­¦ä¹ æ¡†æ¶ ğŸ§  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 80%
â€¢ è®ºæ–‡å†™ä½œ ğŸ“ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 85%
â€¢ é—®é¢˜è§£å†³ ğŸ”§ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%`,
            
            contact: () => `
è”ç³»æ–¹å¼:
ğŸ“§ Email: elunamamka.tjh@gmail.com
ğŸ“§ å¤‡ç”¨: jinhaotian@whu.edu.cn
ğŸ™ GitHub: https://github.com/ElunaMamka
ğŸ“ åšå®¢: https://www.cnblogs.com/ElunaMamka/
ğŸ“ å­¦æ ¡: æ­¦æ±‰å¤§å­¦
ğŸŒ ä½ç½®: ä¸­å›½Â·æ­¦æ±‰`,
            
            papers: () => `
å‘è¡¨è®ºæ–‡:
ğŸ“„ N-Gram Unsupervised Compoundation and Feature Injection for Better Symbolic Music Understanding (AAAI 2024)
   ğŸ”— https://arxiv.org/abs/2312.08931
   
ğŸ“„ NOTA: Multimodal Music Notation Understanding for Visual Large Language Model (NAACL Findings 2025)
   ğŸ”— https://aclanthology.org/2025.findings-naacl.399/
   
ğŸ”¬ ç ”ç©¶æ–¹å‘: éŸ³ä¹ç¬¦å·ç†è§£ã€å¤šæ¨¡æ€å­¦ä¹ ã€è‡ªç„¶è¯­è¨€å¤„ç†
ğŸ“ˆ å¼•ç”¨ç»Ÿè®¡: æŒç»­å¢é•¿ä¸­...`,

            projects: () => `
æˆ‘çš„é¡¹ç›®:
ğŸµ MusicBERT - éŸ³ä¹ç¬¦å·ç†è§£æ¨¡å‹
ğŸ¤– NOTA - å¤šæ¨¡æ€éŸ³ä¹è®°è°±ç†è§£ç³»ç»Ÿ
ğŸ“š Algorithm Notes - ç®—æ³•å­¦ä¹ ç¬”è®°
ğŸŒ Personal Website - ä¸ªäººä¸»é¡µ
ğŸ”§ Various Tools - å„ç§å®ç”¨å°å·¥å…·
ğŸ“Š Research Scripts - ç ”ç©¶ç›¸å…³è„šæœ¬

ğŸ’¡ æ›´å¤šé¡¹ç›®è¯·è®¿é—®æˆ‘çš„GitHub!`,
            
            joke: () => {
                const jokes = [
                    "ä¸ºä»€ä¹ˆç¨‹åºå‘˜å–œæ¬¢é»‘æš—ï¼Ÿå› ä¸ºå…‰ä¼šäº§ç”Ÿbugï¼ğŸ›",
                    "ç¨‹åºå‘˜çš„ä¸‰å¤§ç¾å¾·ï¼šæ‡’æƒ°ã€æ€¥èºå’Œå‚²æ…¢ã€‚ğŸ˜",
                    "ä¸–ç•Œä¸Šæœ‰10ç§äººï¼šæ‡‚äºŒè¿›åˆ¶çš„å’Œä¸æ‡‚çš„ã€‚ğŸ¤“",
                    "è°ƒè¯•å°±åƒæ˜¯çŠ¯ç½ªç°åœºè°ƒæŸ¥ï¼Œä½ å°±æ˜¯ä¾¦æ¢ï¼ğŸ•µï¸",
                    "ä»£ç å¦‚è¯—ï¼Œä½†å¤§å¤šæ•°æ—¶å€™æ›´åƒæ˜¯ææ€–å°è¯´...ğŸ‘»",
                    "ä¸ºä»€ä¹ˆéŸ³ä¹AIæ€»æ˜¯è·‘è°ƒï¼Ÿå› ä¸ºå®ƒä»¬ç¼ºå°‘éŸ³æ„Ÿæ¨¡å—ï¼ğŸµ",
                    "å¤šæ¨¡æ€å­¦ä¹ å°±åƒå­¦ä¼šäº†è¯»è°±åˆä¼šå¼¹ç´çš„å…¨èƒ½é€‰æ‰‹ï¼ğŸ¹",
                    "æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆçš„æ—¥å¸¸ï¼š90%è°ƒå‚ï¼Œ10%æ€€ç–‘äººç”Ÿã€‚ğŸ¤–",
                    "æ·±åº¦å­¦ä¹ ï¼šè®©è®¡ç®—æœºåƒäººä¸€æ ·æ€è€ƒï¼Œç„¶åå‘ç°äººä¹Ÿä¸æ€ä¹ˆä¼šæ€è€ƒã€‚ğŸ§ ",
                    "ä¸ºä»€ä¹ˆNLPç ”ç©¶å‘˜æ€»æ˜¯å¾ˆç´¯ï¼Ÿå› ä¸ºè¦å¤„ç†å¤ªå¤š'è‡ªç„¶'è¯­è¨€äº†ï¼ğŸ“"
                ];
                return jokes[Math.floor(Math.random() * jokes.length)];
            },

            quote: () => {
                const quotes = [
                    "ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œåªæ˜¯é¡ºä¾¿èƒ½åœ¨æœºå™¨ä¸Šè¿è¡Œã€‚ - Martin Fowler",
                    "è¿‡æ—©çš„ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºã€‚ - Donald Knuth",
                    "ç®€å•æ˜¯å¯é çš„å‰æã€‚ - Edsger Dijkstra",
                    "ç¨‹åºå¿…é¡»å†™ç»™äººçœ‹ï¼Œåªæ˜¯é¡ºä¾¿è®©æœºå™¨æ‰§è¡Œã€‚ - Harold Abelson",
                    "æœ€å¥½çš„ä»£ç æ˜¯æ²¡æœ‰ä»£ç ã€‚ - Jeff Atwood",
                    "å­¦è€Œæ—¶ä¹ ä¹‹ï¼Œä¸äº¦è¯´ä¹ï¼Ÿ - å­”å­",
                    "è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ - å±ˆåŸ",
                    "å±±é‡æ°´å¤ç–‘æ— è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘ã€‚ - é™†æ¸¸",
                    "å®å‰‘é”‹ä»ç£¨ç ºå‡ºï¼Œæ¢…èŠ±é¦™è‡ªè‹¦å¯’æ¥ã€‚ - å¤è¯—",
                    "ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œã€‚ - è€å­"
                ];
                return "ğŸ’­ " + quotes[Math.floor(Math.random() * quotes.length)];
            },

            music: () => {
                const songs = [
                    "ğŸµ æ¨è: Canon in D - Pachelbel (å¤å…¸éŸ³ä¹ç»å…¸)",
                    "ğŸµ æ¨è: Clair de Lune - Debussy (å°è±¡æ´¾æ°ä½œ)",
                    "ğŸµ æ¨è: The Four Seasons - Vivaldi (å·´æ´›å…‹åä½œ)",
                    "ğŸµ æ¨è: Moonlight Sonata - Beethoven (è´å¤šèŠ¬æœˆå…‰)",
                    "ğŸµ æ¨è: Ave Maria - Schubert (èˆ’ä¼¯ç‰¹åœ£æ¯é¢‚)",
                    "ğŸµ æ¨è: GymnopÃ©die No.1 - Satie (è¨è’‚ä½“æ“)",
                    "ğŸµ æ¨è: Comptine d'un autre Ã©tÃ© - Yann Tiersen (å¤©ä½¿çˆ±ç¾ä¸½)",
                    "ğŸµ æ¨è: River Flows in You - Yiruma (æé—°ç‰é’¢ç´æ›²)",
                    "ğŸµ æ¨è: Ludovico Einaudi - Nuvole Bianche (ç°ä»£å¤å…¸)",
                    "ğŸµ æ¨è: Max Richter - On The Nature of Daylight (ç”µå½±é…ä¹)"
                ];
                return songs[Math.floor(Math.random() * songs.length)] + "\nğŸ§ äº«å—éŸ³ä¹çš„ç¾å¥½æ—¶å…‰ï¼";
            },

            poem: () => {
                const poems = [
                    "æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿã€‚\nå¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘ã€‚ - å­Ÿæµ©ç„¶ã€Šæ˜¥æ™“ã€‹",
                    "åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€‚\nä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚ - æç™½ã€Šé™å¤œæ€ã€‹",
                    "çº¢è±†ç”Ÿå—å›½ï¼Œæ˜¥æ¥å‘å‡ æã€‚\næ„¿å›å¤šé‡‡æ’·ï¼Œæ­¤ç‰©æœ€ç›¸æ€ã€‚ - ç‹ç»´ã€Šç›¸æ€ã€‹",
                    "ç‹¬åœ¨å¼‚ä¹¡ä¸ºå¼‚å®¢ï¼Œæ¯é€¢ä½³èŠ‚å€æ€äº²ã€‚\né¥çŸ¥å…„å¼Ÿç™»é«˜å¤„ï¼Œéæ’èŒ±è¸å°‘ä¸€äººã€‚ - ç‹ç»´ã€Šä¹æœˆä¹æ—¥å¿†å±±ä¸œå…„å¼Ÿã€‹",
                    "ç™½æ—¥ä¾å±±å°½ï¼Œé»„æ²³å…¥æµ·æµã€‚\næ¬²ç©·åƒé‡Œç›®ï¼Œæ›´ä¸Šä¸€å±‚æ¥¼ã€‚ - ç‹ä¹‹æ¶£ã€Šç™»é¹³é›€æ¥¼ã€‹",
                    "ä¸¤ä¸ªé»„é¹‚é¸£ç¿ æŸ³ï¼Œä¸€è¡Œç™½é¹­ä¸Šé’å¤©ã€‚\nçª—å«è¥¿å²­åƒç§‹é›ªï¼Œé—¨æ³Šä¸œå´ä¸‡é‡Œèˆ¹ã€‚ - æœç”«ã€Šç»å¥ã€‹"
                ];
                return "ğŸ“œ " + poems[Math.floor(Math.random() * poems.length)];
            },

            color: () => {
                const colors = ['#FF6B9D', '#4ECDC4', '#FFE66D', '#FF6B6B', '#4DABF7', '#69DB7C', '#FFD43B', '#DA77F2'];
                const colorNames = ['ç²‰çº¢', 'é’ç»¿', 'æŸ æª¬é»„', 'çŠç‘šçº¢', 'å¤©è“', 'è–„è·ç»¿', 'é‡‘é»„', 'ç´«ç½—å…°'];
                const randomIndex = Math.floor(Math.random() * colors.length);
                return `ğŸ¨ éšæœºé¢œè‰²: ${colorNames[randomIndex]} ${colors[randomIndex]}`;
            },

            password: () => {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
                let password = '';
                for (let i = 0; i < 12; i++) {
                    password += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return `ğŸ” éšæœºå¯†ç : ${password}\nâš ï¸  è¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦åœ¨ä¸å®‰å…¨çš„åœ°æ–¹ä½¿ç”¨ï¼`;
            },
            
            time: () => `â° å½“å‰æ—¶é—´: ${new Date().toLocaleString('zh-CN')}`,

            date: () => {
                const now = new Date();
                const weekdays = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
                return `ğŸ“… è¯¦ç»†æ—¥æœŸä¿¡æ¯:
æ—¥æœŸ: ${now.toLocaleDateString('zh-CN')}
æ—¶é—´: ${now.toLocaleTimeString('zh-CN')}
æ˜ŸæœŸ: ${weekdays[now.getDay()]}
æ—¶é—´æˆ³: ${now.getTime()}
ISOæ ¼å¼: ${now.toISOString()}`;
            },

            weather: () => {
                const weathers = [
                    "â˜€ï¸ æ™´æœ— 25Â°C - é€‚åˆå‡ºé—¨æ•£æ­¥",
                    "â›… å¤šäº‘ 22Â°C - èˆ’é€‚çš„å¤©æ°”",
                    "ğŸŒ§ï¸ å°é›¨ 18Â°C - è®°å¾—å¸¦ä¼",
                    "â„ï¸ é›ªå¤© -2Â°C - æ³¨æ„ä¿æš–",
                    "ğŸŒˆ é›¨åå¤©æ™´ 20Â°C - ç©ºæ°”æ¸…æ–°"
                ];
                return weathers[Math.floor(Math.random() * weathers.length)];
            },
            
            whoami: () => "ä½ æ˜¯ä¸€ä½è®¿å®¢ï¼Œæ¬¢è¿æ¥åˆ° ElunaMamka çš„ä¸ªäººç©ºé—´ï¼ğŸ‘‹\nåœ¨è¿™é‡Œä½ å¯ä»¥äº†è§£æˆ‘çš„ç ”ç©¶ã€é¡¹ç›®å’Œæƒ³æ³•ã€‚",
            
            ls: () => `
drwxr-xr-x  projects/          # æˆ‘çš„é¡¹ç›®
drwxr-xr-x  papers/            # å­¦æœ¯è®ºæ–‡
drwxr-xr-x  photos/            # ç…§ç‰‡æ”¶è—
drwxr-xr-x  music_datasets/    # éŸ³ä¹æ•°æ®é›†
drwxr-xr-x  research_notes/    # ç ”ç©¶ç¬”è®°
drwxr-xr-x  code_snippets/     # ä»£ç ç‰‡æ®µ
-rw-r--r--  README.md          # è¯´æ˜æ–‡ä»¶
-rw-r--r--  profile.txt        # ä¸ªäººç®€ä»‹
-rw-r--r--  NOTA_paper.pdf     # NAACLè®ºæ–‡
-rw-r--r--  AAAI_paper.pdf     # AAAIè®ºæ–‡
-rw-r--r--  .gitignore         # Gitå¿½ç•¥æ–‡ä»¶`,
            
            pwd: () => "/home/ElunaMamka/website",

            tree: () => `
ğŸ“ ElunaMamka/
â”œâ”€â”€ ğŸ“ projects/
â”‚   â”œâ”€â”€ ğŸµ MusicBERT/
â”‚   â”œâ”€â”€ ğŸ¤– NOTA/
â”‚   â””â”€â”€ ğŸ“š AlgorithmNotes/
â”œâ”€â”€ ğŸ“ papers/
â”‚   â”œâ”€â”€ ğŸ“„ AAAI2024.pdf
â”‚   â””â”€â”€ ğŸ“„ NAACL2025.pdf
â”œâ”€â”€ ğŸ“ photos/
â”‚   â”œâ”€â”€ ğŸ–¼ï¸ fish.png
â”‚   â””â”€â”€ ğŸ–¼ï¸ memories/
â””â”€â”€ ğŸ“ research/
    â”œâ”€â”€ ğŸ“Š datasets/
    â””â”€â”€ ğŸ§ª experiments/`,

            neofetch: () => `
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚     ElunaMamka Info     â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
    
ğŸ–¥ï¸  OS: Personal Website v2024
ğŸ‘¤ User: ElunaMamka
ğŸ« University: æ­¦æ±‰å¤§å­¦ (WHU)
ğŸ”¬ Research: NLP & Music AI
ğŸ“š Papers: AAAI 2024, NAACL 2025
ğŸ’» Languages: Python, C++, JS
ğŸµ Interests: Music, AI, Coding
ğŸ“§ Contact: elunamamka.tjh@gmail.com
â­ GitHub: ElunaMamka
ğŸŒŸ Motto: Believe in becoming your ideal self`,

            matrix: () => {
                let matrix = '';
                const chars = '01ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³';
                for (let i = 0; i < 10; i++) {
                    for (let j = 0; j < 20; j++) {
                        matrix += chars[Math.floor(Math.random() * chars.length)];
                    }
                    matrix += '\n';
                }
                return `ğŸ•¶ï¸ è¿›å…¥é»‘å®¢å¸å›½...\n${matrix}\nğŸ’Š é€‰æ‹©çº¢è‰²è¯ä¸¸è¿˜æ˜¯è“è‰²è¯ä¸¸ï¼Ÿ`;
            },

            love: () => `
ğŸ’– çˆ±å¿ƒåŠ¨ç”»:
    â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥
  â™¥â™¥                    â™¥â™¥
â™¥â™¥        ç¼–ç¨‹æ”¹å˜ä¸–ç•Œ        â™¥â™¥
â™¥â™¥      Code Changes World    â™¥â™¥
  â™¥â™¥                    â™¥â™¥
    â™¥â™¥                â™¥â™¥
      â™¥â™¥            â™¥â™¥
        â™¥â™¥        â™¥â™¥
          â™¥â™¥    â™¥â™¥
            â™¥â™¥â™¥â™¥
              â™¥â™¥
               â™¥`,
            
            clear: () => "CLEAR_TERMINAL"
        };

        function handleTerminalInput(event) {
            if (event.key === 'Enter') {
                const input = event.target.value.trim();
                const output = document.getElementById('terminal-output');
                
                // æ˜¾ç¤ºç”¨æˆ·è¾“å…¥
                const userLine = document.createElement('div');
                userLine.innerHTML = `<span style="color: #27ae60;">visitor@ElunaMamka:~$</span> ${input}`;
                output.appendChild(userLine);
                
                // è§£æå‘½ä»¤å’Œå‚æ•°
                const parts = input.split(' ');
                const command = parts[0].toLowerCase();
                const args = parts.slice(1).join(' ');
                
                // å¤„ç†å‘½ä»¤
                if (input === 'clear') {
                    output.innerHTML = `
                        <div style="color: #27ae60;">ç»ˆç«¯å·²æ¸…ç©ºï¼âœ¨</div>
                        <div style="color: #555; margin: 10px 0;">
                            è¾“å…¥ 'help' æŸ¥çœ‹å¯ç”¨å‘½ä»¤
                        </div>`;
                } else if (command === 'calc' && args) {
                    try {
                        // ç®€å•çš„è®¡ç®—å™¨ï¼Œåªå…è®¸åŸºæœ¬è¿ç®—
                        const sanitized = args.replace(/[^0-9+\-*/().\s]/g, '');
                        const result = Function('"use strict"; return (' + sanitized + ')')();
                        const response = document.createElement('div');
                        response.style.color = '#27ae60';
                        response.style.margin = '5px 0';
                        response.textContent = `ğŸ§® è®¡ç®—ç»“æœ: ${args} = ${result}`;
                        output.appendChild(response);
                    } catch (error) {
                        const errorLine = document.createElement('div');
                        errorLine.style.color = '#e74c3c';
                        errorLine.textContent = `âŒ è®¡ç®—é”™è¯¯: è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­¦è¡¨è¾¾å¼`;
                        output.appendChild(errorLine);
                    }
                } else if (command === 'base64' && args) {
                    try {
                        const encoded = btoa(unescape(encodeURIComponent(args)));
                        const response = document.createElement('div');
                        response.style.color = '#3498db';
                        response.style.margin = '5px 0';
                        response.textContent = `ğŸ” Base64ç¼–ç ç»“æœ: ${encoded}`;
                        output.appendChild(response);
                    } catch (error) {
                        const errorLine = document.createElement('div');
                        errorLine.style.color = '#e74c3c';
                        errorLine.textContent = `âŒ ç¼–ç é”™è¯¯: æ— æ³•ç¼–ç è¯¥æ–‡æœ¬`;
                        output.appendChild(errorLine);
                    }
                } else if (command === 'reverse' && args) {
                    const reversed = args.split('').reverse().join('');
                    const response = document.createElement('div');
                    response.style.color = '#9b59b6';
                    response.style.margin = '5px 0';
                    response.textContent = `ğŸ”„ åè½¬ç»“æœ: ${reversed}`;
                    output.appendChild(response);
                } else if (command === 'upper' && args) {
                    const response = document.createElement('div');
                    response.style.color = '#e67e22';
                    response.style.margin = '5px 0';
                    response.textContent = `ğŸ”¤ å¤§å†™ç»“æœ: ${args.toUpperCase()}`;
                    output.appendChild(response);
                } else if (command === 'lower' && args) {
                    const response = document.createElement('div');
                    response.style.color = '#16a085';
                    response.style.margin = '5px 0';
                    response.textContent = `ğŸ”¡ å°å†™ç»“æœ: ${args.toLowerCase()}`;
                    output.appendChild(response);
                } else if (command === 'echo' && args) {
                    const response = document.createElement('div');
                    response.style.color = '#34495e';
                    response.style.margin = '5px 0';
                    response.textContent = `ğŸ“¢ ${args}`;
                    output.appendChild(response);
                } else if (command === 'cowsay' && args) {
                    const response = document.createElement('div');
                    response.style.color = '#8e44ad';
                    response.style.margin = '5px 0';
                    response.style.fontFamily = 'monospace';
                    response.textContent = `
 ${'_'.repeat(args.length + 2)}
< ${args} >
 ${'-'.repeat(args.length + 2)}
        \\   ^__^
         \\  (oo)\\_______
            (__)\\       )\\/\\
                ||----w |
                ||     ||`;
                    output.appendChild(response);
                } else if (input === 'sudo rm -rf /') {
                    const response = document.createElement('div');
                    response.style.color = '#e74c3c';
                    response.style.margin = '5px 0';
                    response.textContent = `ğŸš« æƒé™ä¸è¶³ï¼ä½ ä»¥ä¸ºæˆ‘ä¼šè®©ä½ è¿™ä¹ˆåšå—ï¼ŸğŸ˜`;
                    output.appendChild(response);
                } else if (input === 'exit' || input === 'quit') {
                    const response = document.createElement('div');
                    response.style.color = '#f39c12';
                    response.style.margin = '5px 0';
                    response.textContent = `ğŸ‘‹ å†è§ï¼æ„Ÿè°¢ä½¿ç”¨ ElunaMamka ç»ˆç«¯ï¼`;
                    output.appendChild(response);
                } else if (input.includes('hello') || input.includes('hi') || input.includes('ä½ å¥½')) {
                    const greetings = [
                        'ğŸ‘‹ ä½ å¥½ï¼æ¬¢è¿æ¥åˆ°æˆ‘çš„ç»ˆç«¯ï¼',
                        'ğŸ‰ å—¨ï¼å¾ˆé«˜å…´è§åˆ°ä½ ï¼',
                        'ğŸ˜Š Hello! æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ',
                        'ğŸŒŸ ä½ å¥½å‘€ï¼ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ'
                    ];
                    const response = document.createElement('div');
                    response.style.color = '#27ae60';
                    response.style.margin = '5px 0';
                    response.textContent = greetings[Math.floor(Math.random() * greetings.length)];
                    output.appendChild(response);
                } else if (input === '42') {
                    const response = document.createElement('div');
                    response.style.color = '#3498db';
                    response.style.margin = '5px 0';
                    response.textContent = `ğŸŒŒ 42 - ç”Ÿå‘½ã€å®‡å®™ä»¥åŠä¸€åˆ‡çš„ç»ˆæç­”æ¡ˆï¼\nğŸ“š ã€Šé“¶æ²³ç³»æ¼«æ¸¸æŒ‡å—ã€‹çš„ç²‰ä¸ï¼Ÿ`;
                    output.appendChild(response);
                } else if (input.toLowerCase().includes('coffee') || input.includes('å’–å•¡')) {
                    const response = document.createElement('div');
                    response.style.color = '#8b4513';
                    response.style.margin = '5px 0';
                    response.textContent = `â˜• ç¨‹åºå‘˜çš„ç”Ÿå‘½ä¹‹æºï¼æ¥ä¸€æ¯ï¼Ÿ\nğŸ”¥ å’–å•¡å› æ­£åœ¨åŠ è½½... â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%`;
                    output.appendChild(response);
                } else if (terminalCommands[command]) {
                    const response = document.createElement('div');
                    response.style.color = '#333';
                    response.style.whiteSpace = 'pre-line';
                    response.style.margin = '5px 0';
                    response.textContent = terminalCommands[command]();
                    output.appendChild(response);
                } else if (input) {
                    const errorLine = document.createElement('div');
                    errorLine.style.color = '#e74c3c';
                    errorLine.textContent = `å‘½ä»¤æœªæ‰¾åˆ°: ${command}ã€‚è¾“å…¥ 'help' æŸ¥çœ‹å¯ç”¨å‘½ä»¤ã€‚`;
                    output.appendChild(errorLine);
                }
                
                // æ¸…ç©ºè¾“å…¥æ¡†å¹¶æ»šåŠ¨åˆ°åº•éƒ¨
                event.target.value = '';
                output.scrollTop = output.scrollHeight;
            }
        }

        // é”®ç›˜æ§åˆ¶
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('gallery').classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    prevPhoto();
                } else if (e.key === 'ArrowRight') {
                    nextPhoto();
                } else if (e.key === ' ') {
                    e.preventDefault();
                    randomPhoto();
                }
            }
        });

        // è§¦æ‘¸æ»‘åŠ¨æ”¯æŒ
        let startX = 0;
        let endX = 0;

        document.getElementById('photo-main').addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
        });

        document.getElementById('photo-main').addEventListener('touchend', function(e) {
            endX = e.changedTouches[0].clientX;
            handleSwipe();
        });

        function handleSwipe() {
            const threshold = 50; // æœ€å°æ»‘åŠ¨è·ç¦»
            if (startX - endX > threshold) {
                nextPhoto(); // å·¦æ»‘ï¼Œä¸‹ä¸€å¼ 
            } else if (endX - startX > threshold) {
                prevPhoto(); // å³æ»‘ï¼Œä¸Šä¸€å¼ 
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', function() {
            updateGallery();
        });

        // å¹³æ»‘æ»šåŠ¨åˆ°é¡¶éƒ¨ï¼ˆå½“åˆ‡æ¢tabæ—¶ï¼‰
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // ä¸ºæ‰€æœ‰å¯¼èˆªtabæ·»åŠ æ»šåŠ¨åˆ°é¡¶éƒ¨åŠŸèƒ½
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', scrollToTop);
        });

        // ========== åœ°å›¾ç›¸å†ŒåŠŸèƒ½ ==========
        const mapPhotos = {
            'sky-city': {
                name: 'å¤©ç©ºä¹‹åŸ',
                description: 'ç¥ç§˜çš„å¤©ç©ºä¹‹åŸï¼Œä¼ è¯´ä¸­çš„ç†æƒ³ä¹‹åœ°',
                photos: [
                    { src: 'static/picture/fish.png', info: 'å¤©ç©ºä¹‹åŸçš„ç¥ç§˜ç”Ÿç‰© ğŸ ', date: '2024-01-01' },
                    { src: 'static/picture/002.png', info: 'äº‘ç«¯çš„ç¾å¥½æ—¶å…‰ âœ¨', date: '2024-01-02' }
                ]
            },
            'wuhan': {
                name: 'æ­¦æ±‰',
                description: 'æˆ‘çš„æ±‚å­¦ä¹‹åœ°ï¼Œå……æ»¡å›å¿†çš„åŸå¸‚',
                photos: [
                    { src: 'static/image/g.jpg', info: 'æ­¦æ±‰å¤§å­¦æ ¡å›­ ğŸ«', date: '2023-09-01' }
                ]
            },
            'beijing': {
                name: 'åŒ—äº¬',
                description: 'é¦–éƒ½åŒ—äº¬ï¼Œå­¦æœ¯äº¤æµçš„é‡è¦åœ°ç‚¹',
                photos: [
                    { src: 'static/picture/002.png', info: 'åŒ—äº¬çš„å­¦æœ¯ä¼šè®® ğŸ“š', date: '2024-03-15' }
                ]
            }
        };

        let mapScale = 1;
        let mapX = 0;
        let mapY = 0;
        let isDragging = false;
        let dragStartX = 0;
        let dragStartY = 0;

        // åœ°å›¾ç¼©æ”¾åŠŸèƒ½
        function zoomIn() {
            mapScale = Math.min(mapScale * 1.2, 3);
            updateMapTransform();
        }

        function zoomOut() {
            mapScale = Math.max(mapScale / 1.2, 0.5);
            updateMapTransform();
        }

        function resetZoom() {
            mapScale = 1;
            mapX = 0;
            mapY = 0;
            updateMapTransform();
        }

        function updateMapTransform() {
            const chinaMap = document.getElementById('china-map');
            if (chinaMap) {
                chinaMap.style.transform = `translate(-50%, -50%) translate(${mapX}px, ${mapY}px) scale(${mapScale})`;
            }
        }

        // åœ°å›¾æ‹–æ‹½åŠŸèƒ½
        function initMapDrag() {
            const mapCanvas = document.getElementById('map-canvas');
            if (!mapCanvas) return;
            
            mapCanvas.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('map-marker')) return;
                isDragging = true;
                dragStartX = e.clientX - mapX;
                dragStartY = e.clientY - mapY;
                mapCanvas.style.cursor = 'grabbing';
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    mapX = e.clientX - dragStartX;
                    mapY = e.clientY - dragStartY;
                    updateMapTransform();
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                const mapCanvas = document.getElementById('map-canvas');
                if (mapCanvas) mapCanvas.style.cursor = 'grab';
            });

            // è§¦æ‘¸æ”¯æŒ
            mapCanvas.addEventListener('touchstart', (e) => {
                if (e.target.classList.contains('map-marker')) return;
                isDragging = true;
                const touch = e.touches[0];
                dragStartX = touch.clientX - mapX;
                dragStartY = touch.clientY - mapY;
            });

            mapCanvas.addEventListener('touchmove', (e) => {
                if (isDragging) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    mapX = touch.clientX - dragStartX;
                    mapY = touch.clientY - dragStartY;
                    updateMapTransform();
                }
            });

            mapCanvas.addEventListener('touchend', () => {
                isDragging = false;
            });

            // æ»šè½®ç¼©æ”¾
            mapCanvas.addEventListener('wheel', (e) => {
                e.preventDefault();
                if (e.deltaY < 0) {
                    zoomIn();
                } else {
                    zoomOut();
                }
            });
        }

        // å…¨å±åŠŸèƒ½
        function toggleFullscreen() {
            const mapContainer = document.querySelector('.map-container');
            if (!mapContainer) return;
            
            if (!document.fullscreenElement) {
                mapContainer.requestFullscreen().catch(err => {
                    console.log('æ— æ³•è¿›å…¥å…¨å±æ¨¡å¼:', err);
                });
            } else {
                document.exitFullscreen();
            }
        }

        // æ˜¾ç¤ºç…§ç‰‡æ¨¡æ€æ¡†
        function showPhotoModal(locationId) {
            const modal = document.getElementById('photo-modal');
            const modalTitle = document.getElementById('modal-title');
            const photoGrid = document.getElementById('photo-grid');
            
            const location = mapPhotos[locationId];
            if (!location || !modal || !modalTitle || !photoGrid) return;
            
            modalTitle.textContent = `${location.name} - ${location.description}`;
            
            // æ¸…ç©ºç°æœ‰å†…å®¹
            photoGrid.innerHTML = '';
            
            // æ·»åŠ ç…§ç‰‡
            location.photos.forEach((photo, index) => {
                const photoItem = document.createElement('div');
                photoItem.className = 'photo-item';
                photoItem.innerHTML = `
                    <img src="${photo.src}" alt="${photo.info}" onclick="viewFullPhoto('${photo.src}', '${photo.info}')">
                    <div class="photo-item-info">
                        <div>${photo.info}</div>
                        <div style="font-size: 12px; opacity: 0.8;">${photo.date}</div>
                    </div>
                `;
                photoGrid.appendChild(photoItem);
            });
            
            // å¦‚æœæ˜¯å¤©ç©ºä¹‹åŸï¼Œæ·»åŠ ç‰¹æ®Šæ•ˆæœ
            if (locationId === 'sky-city') {
                modalTitle.innerHTML = `ğŸ° ${location.name} - ${location.description} âœ¨`;
                modal.style.background = 'radial-gradient(circle, rgba(102,126,234,0.9) 0%, rgba(118,75,162,0.9) 100%)';
            } else {
                modal.style.background = 'rgba(0, 0, 0, 0.9)';
            }
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // å…³é—­ç…§ç‰‡æ¨¡æ€æ¡†
        function closePhotoModal() {
            const modal = document.getElementById('photo-modal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        // æŸ¥çœ‹å®Œæ•´ç…§ç‰‡
        function viewFullPhoto(src, info) {
            const fullPhotoViewer = document.createElement('div');
            fullPhotoViewer.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 2000;
                backdrop-filter: blur(10px);
            `;
            
            fullPhotoViewer.innerHTML = `
                <div style="position: relative; max-width: 90%; max-height: 90%;">
                    <img src="${src}" alt="${info}" style="max-width: 100%; max-height: 100%; border-radius: 10px; box-shadow: 0 20px 60px rgba(0,0,0,0.5);">
                    <div style="position: absolute; bottom: -50px; left: 50%; transform: translateX(-50%); color: white; text-align: center; font-size: 16px; background: rgba(0,0,0,0.7); padding: 10px 20px; border-radius: 20px;">
                        ${info}
                    </div>
                    <button onclick="this.parentElement.parentElement.remove(); document.body.style.overflow='auto';" style="position: absolute; top: -40px; right: -40px; width: 40px; height: 40px; border-radius: 50%; background: rgba(255,255,255,0.9); border: none; cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center;">Ã—</button>
                </div>
            `;
            
            fullPhotoViewer.addEventListener('click', (e) => {
                if (e.target === fullPhotoViewer) {
                    fullPhotoViewer.remove();
                    document.body.style.overflow = 'auto';
                }
            });
            
            document.body.appendChild(fullPhotoViewer);
            document.body.style.overflow = 'hidden';
        }

        // åˆå§‹åŒ–åœ°å›¾åŠŸèƒ½
        function initMap() {
            initMapDrag();
            
            // æ›´æ–°æ ‡è®°ç‚¹æ•°é‡
            Object.keys(mapPhotos).forEach(locationId => {
                const marker = document.getElementById(`marker-${locationId}`);
                const tooltip = marker?.querySelector('.marker-tooltip');
                if (tooltip && locationId !== 'sky-city') {
                    const count = mapPhotos[locationId].photos.length;
                    tooltip.textContent = `${mapPhotos[locationId].name} - ${count}å¼ ç…§ç‰‡`;
                }
            });

            // åœ°å›¾åŠ è½½åŠ¨ç”»
            const mapCanvas = document.getElementById('map-canvas');
            if (mapCanvas) {
                mapCanvas.style.opacity = '0';
                mapCanvas.style.transition = 'opacity 1s ease';
                setTimeout(() => {
                    mapCanvas.style.opacity = '1';
                }, 100);
            }
        }

        // æ‰©å±•é”®ç›˜æ§åˆ¶
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('gallery').classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    prevPhoto();
                } else if (e.key === 'ArrowRight') {
                    nextPhoto();
                } else if (e.key === ' ') {
                    e.preventDefault();
                    randomPhoto();
                }
            }
            
            // åœ°å›¾ç›¸å†Œé”®ç›˜æ§åˆ¶
            if (document.getElementById('map').classList.contains('active')) {
                switch(e.key) {
                    case '+':
                    case '=':
                        e.preventDefault();
                        zoomIn();
                        break;
                    case '-':
                        e.preventDefault();
                        zoomOut();
                        break;
                    case '0':
                        e.preventDefault();
                        resetZoom();
                        break;
                    case 'f':
                    case 'F':
                        e.preventDefault();
                        toggleFullscreen();
                        break;
                    case 'Escape':
                        const modal = document.getElementById('photo-modal');
                        if (modal && modal.classList.contains('active')) {
                            closePhotoModal();
                        }
                        break;
                }
            }
        });

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', function() {
            updateGallery();
            initMap();
        });
    </script>
</body>

</html>
